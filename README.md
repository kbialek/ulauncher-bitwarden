# ulauncher-bitwarden

A [Ulauncher](https://ulauncher.io/) extension to search your [Bitwarden](https://bitwarden.com/) vault and copy passwords to the clipboard.

## Features

- Quickly search through the database entries by name, and copy passwords/usernames/URLs/TOTPs to the clipboard
- Works also with self hosted Bitwarden servers.
- Support vaults with a passphrase also with MFA codes. The extension does not keep the password in the memory.
It rather uses SessionID generated by the Bitwarden CLI client.

## Requirements

- Install a recent version of [Bitwarden CLI](https://github.com/bitwarden/cli)
- Make sure you can execute `bw` in a terminal

## Installation

Open Ulauncher preferences window -> Extensions -> "Add extension" and paste the following url:

```
https://github.com/kbialek/ulauncher-bitwarden
```

## Configuration

- `Bitwarden Server Url`
- `User e-mail address`
- `Enable MFA login` - if you use MFA authentication with your Bitwarden account select `yes`, otherwise leave `no` 
- `Inactivity lock timeout` - forces you to re-enter the passphrase after you haven't used the extension for a while. By default it's set to 300 seconds (5 minutes). If you'd rather not re-enter it, you can set the value to 0, but that's probably not a great idea. NOTE: The cached passphrase is only stored in memory, so you'll need to re-enter it if you reboot your computer or restart Ulauncher.
- `Session store command` - optional command called after successful login or unlock. Bitwarden session key is passed over stdin. 
You can use it to run a command which will store session key in "some" secure location, 
and later read the session key when directly calling `bw` in the cli. 
It's totally up to you how and where you will store the session key.
For example, you can store it in a file using the following script.
```shell script
#!/bin/bash

BW_SESSION_FILE=$HOME/.bw-session
touch $BW_SESSION_FILE
chmod 600 $BW_SESSION_FILE
cat /dev/stdin > $BW_SESSION_FILE
```
In this case `Session store command` property must be set to absolute path of the script.

Now you can use it in the command line
```shell script
export BW_SESSION=$(cat ~/.bw-session)
bw list items
```

## Usage

Open Ulauncher and type in "bw " to start the extension. If your password database is locked with a passphrase, it'll ask you to enter it:

![Unlock Database](images/screenshots/unlock-database.png)

Once unlocked, search the database for "mail" logins:

![Search](images/screenshots/search1.png)

Look at the `GMail` entry:

![Entry details](images/screenshots/details1.png)

## Inspiration and thanks

This is a fork of well crafted [ulauncher-keepassxc](https://github.com/pbkhrv/ulauncher-keepassxc) extension. Thank you @pbkhrv! 
